<ng-container *ngIf="session$ | async as session">
  <main>
    <section style="display: none"></section>
    <section class="session-offset-block-start"></section>
    <section class="session-offset-block-start section-offset-block-start">
      <div class="container grid">
        <div class="layout-rows-sm">
          <header class="layout-rows-xs text-center">
            <app-session-owner-links
              class="owner-links"
              *ngIf="isOwner$ | async"
            ></app-session-owner-links>
            <div class="figure-pairing">
              <app-icon
                class="joie-icon size-md"
                [name]="pillarIcons.get(pillar[session?.pillar])"
              ></app-icon>
              <h4 [innerHTML]="session?.pillar | joiePrefix: false"></h4>
            </div>
            <h1>{{ session?.title }}</h1>
            <address class="figure-pairing">
              <img
                src="{{ (owner$ | async)?.photoURL }}"
                class="author-image"
                width="28px"
                height="28px"
              />
              <h3>{{ (owner$ | async)?.displayName }}</h3>
            </address>
          </header>

          <div class="layout-columns row-spacing">
            <app-paper-item>
              <app-icon class="joie-icon size-sm" name="calendar"></app-icon>
              <span>
                {{ session?.duration?.amount + session?.duration?.unit }}
              </span>
            </app-paper-item>
            <app-paper-item>
              <app-icon class="joie-icon size-sm" name="clock"></app-icon>
              <span>{{ session?.duration?.amount + session?.duration?.unit }}</span>
            </app-paper-item>
            <app-paper-item>
              <app-icon class="joie-icon size-sm" name="monitor"></app-icon>
              <span>{{ session?.type }}</span>
            </app-paper-item>
            <app-paper-item>
              <app-icon class="joie-icon size-sm" name="bar-chart"></app-icon>
              <span>{{ session?.level }}</span>
            </app-paper-item>
            <app-paper-item>
              <app-icon class="joie-icon size-sm" name="tag"></app-icon>
              <span>{{ session?.price?.display | currency: session?.price?.currency }}</span>
            </app-paper-item>
            <app-paper-item>
              <app-icon class="joie-icon size-sm" name="send"></app-icon>
              <span>Share</span>
            </app-paper-item>
          </div>

          <app-video-intro
            *ngIf="session?.entryId || !(isOwner$ | async)"
            [isLiveSession]="isLiveSession"
            [displayName]="(owner$ | async)?.displayName"
            [eventId]="eventId$ | async"
            [sessionType]="sessionType"
            [role]="role"
            [userContextualRole]="userContextualRole"
            [entryId]="session?.entryId"
          ></app-video-intro>

          <app-video-upload *ngIf="isOwner$ | async" [session]="session" [sessionId]="sessionId"></app-video-upload>

          <mat-tab-group mat-stretch-tabs>
            <mat-tab label="What you will learn">
              <app-what-learn [session]="session"></app-what-learn>
            </mat-tab>
            <mat-tab label="Meet your teacher">
              <app-meet-teacher [session]="session"></app-meet-teacher>
            </mat-tab>
            <mat-tab label="What our community say">
              <app-community-say [session]="session"></app-community-say>
            </mat-tab>
          </mat-tab-group>
        </div>
        <aside class="enrol-col">
          <app-session-card [session]="session"></app-session-card>
        </aside>
      </div>
    </section>
    <section>
      <div class="text-center">Continue your journey with the following recommended sessions</div>
    </section>
  </main>
</ng-container>
