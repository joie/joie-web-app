<ng-container *ngIf="session$ | async as session">
  <main>
    <section style="display: none"></section>
    <section class="session-offset-block-start"></section>
    <section class="session-offset-block-start section-offset-block-start">
      <div class="container grid">
        <div class="layout-rows">
          <h4 class="text-center">{{ session?.pillar }}</h4>
          <h1 class="text-center">{{ session?.title }}</h1>
          <div class="row-center">
            <img src="{{ session?.owner?.photoURL }}" class="author-image" width="28px" height="28px" />
            <h3>{{ session?.owner?.displayName }}</h3>
          </div>

          <div class="layout-columns row-spacing">
            <div class="row-center">
              <app-icon class="joie-icon size-sm" name="calendar"></app-icon>
              <div>{{ session?.duration?.amount + session?.duration?.unit }}</div>
            </div>
            <div class="row-center">
              <app-icon class="joie-icon size-sm" name="clock"></app-icon>
              <div>{{ session?.duration?.amount + session?.duration?.unit }}</div>
            </div>
            <div class="row-center">
              <app-icon class="joie-icon size-sm" name="monitor"></app-icon>
              <div>{{ session?.type }}</div>
            </div>
            <div class="row-center">
              <app-icon class="joie-icon size-sm" name="bar-chart"></app-icon>
              <div>{{ session?.level }}</div>
            </div>
            <div class="row-center">
              <app-icon class="joie-icon size-sm" name="tag"></app-icon>
              <div>{{ session?.price?.display | currency: session?.price?.currency }}</div>
            </div>
            <div class="row-center">
              <app-icon class="joie-icon size-sm" name="send"></app-icon>
              <div>Share</div>
            </div>
          </div>

          <app-video-intro [isLiveSession]="isLiveSession" [displayName]="displayName$ | async"
            [eventId]="eventId$ | async" [sessionType]="sessionType" [role]="role"
            [userContextualRole]="userContextualRole" [entryId]="session?.entryId" *ngIf="session?.entryId"></app-video-intro>
          <app-video-upload  *ngIf="!session?.entryId" [session]="session" [sessionId]="sessionId"></app-video-upload>

          <mat-tab-group mat-stretch-tabs>
            <mat-tab label="What you will learn">
              <app-what-learn [session]="session"></app-what-learn>
            </mat-tab>
            <mat-tab label="Meet your teacher">
              <app-meet-teacher [session]="session"></app-meet-teacher>
            </mat-tab>
            <mat-tab label="What our community say">
              <app-community-say [session]="session"></app-community-say>
            </mat-tab>
          </mat-tab-group>
        </div>
        <aside class="enrol-col">
          <app-session-card [session]="session"></app-session-card>
        </aside>
      </div>
    </section>
    <section>
      <div class="text-center">
        Continue your journey with the following recommended sessions
      </div>

      <div class="layout-columns">
        <app-session-card [session]="session" [showThumbnail]="true"></app-session-card>

        <app-session-card [session]="session" [showThumbnail]="true"></app-session-card>

        <app-session-card [session]="session" [showThumbnail]="true"></app-session-card>
      </div>

      <div class="text-center">
        Explore more of our unique sessions
      </div>

    </section>

    <footer>
      <section>
        <app-subscribe-to-newsletter class="container"></app-subscribe-to-newsletter>
      </section>
    </footer>
  </main>
</ng-container>